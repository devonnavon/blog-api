{"version":3,"sources":["../../src/models/post.js"],"names":["Schema","mongoose","PostSchema","title","type","String","required","body","published","Boolean","user","Types","ObjectId","ref","timestamps","pre","next","model","deleteMany","post","_id","module","exports"],"mappings":";;AAAA;;;;AAEA,IAAMA,MAAM,GAAGC,qBAASD,MAAxB;AAEA,IAAME,UAAU,GAAG,IAAIF,MAAJ,CACjB;AACEG,EAAAA,KAAK,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADT;AAEEC,EAAAA,IAAI,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFR;AAGEE,EAAAA,SAAS,EAAE;AAAEJ,IAAAA,IAAI,EAAEK;AAAR,GAHb;AAIEC,EAAAA,IAAI,EAAE;AAAEN,IAAAA,IAAI,EAAEJ,MAAM,CAACW,KAAP,CAAaC,QAArB;AAA+BC,IAAAA,GAAG,EAAE;AAApC;AAJR,CADiB,EAOjB;AAAEC,EAAAA,UAAU,EAAE;AAAd,CAPiB,CAAnB;AAUAZ,UAAU,CAACa,GAAX,CAAe,QAAf,EAAyB,UAAUC,IAAV,EAAgB;AACvC,OAAKC,KAAL,CAAW,SAAX,EAAsBC,UAAtB,CAAiC;AAAEC,IAAAA,IAAI,EAAE,KAAKC;AAAb,GAAjC,EAAqDJ,IAArD;AACD,CAFD;AAIAK,MAAM,CAACC,OAAP,GAAiBrB,qBAASgB,KAAT,CAAe,MAAf,EAAuBf,UAAvB,CAAjB","sourcesContent":["import mongoose from 'mongoose';\n\nconst Schema = mongoose.Schema;\n\nconst PostSchema = new Schema(\n  {\n    title: { type: String, required: true },\n    body: { type: String, required: true },\n    published: { type: Boolean },\n    user: { type: Schema.Types.ObjectId, ref: 'User' },\n  },\n  { timestamps: true },\n);\n\nPostSchema.pre('remove', function (next) {\n  this.model('Comment').deleteMany({ post: this._id }, next);\n});\n\nmodule.exports = mongoose.model('Post', PostSchema);\n"],"file":"post.js"}